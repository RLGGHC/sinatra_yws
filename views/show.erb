<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Using Yahoo! Web Service for Search</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="/stylesheets/style.css" type="text/css" />
<link rel="icon" type="image/ico" href="http://rubylearning.com/images/favicon.ico" />
</head>

<body>
<div>
<h1>Using Yahoo! Web Service for Search</h1>

<p><% yahoo_search(params['post']['iname'], params['post']['iresult']) %>
<% if @titles.length != 0 %>
  <% @titles.each_with_index do | title, index | %>
    <b>Title:</b> <%= "#{title}" %> - URL: <a href='<%= "#{@links[index]}" %>'><%= "#{@links[index]}" %></a><br />
    <b>Summary:</b> <%= "#{@summaries[index]}" %><br /><br />
  <% end %>
<% else %>
  Sorry, no search results.
<% end %>
</p>

<p>Click <a href="/">here</a> to try a new search.</p>
</div>
<div id="footer">
  <ul>
  <li><a href="http://github.com/RLGGHC/sinatra_yws/tree/master" target="_blank">Source code</a></li>
  <li><a href="http://rubylearning.com/blog/2008/04/25/yahoo-web-services-in-ruby/" target="_blank">Explanation</a></li>
  </ul>
  <p><b>A Fun Sinatra App by Rubylearning</b>.</p>
</div>
</body>
</html>